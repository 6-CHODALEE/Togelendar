{% extends 'base.html' %}

{% block body %}
<div class="container mt-4">
    {% csrf_token %}

    <!-- 상단: 프로필 + 날씨 -->
    <div class="row">
        <!-- 좌측: 프로필 -->
        <div class="col-md-4 text-center">
            <p class="fw-bold">{{ me }}</p>
            <p>함친: 명</p>
            <a href="#" class="btn btn-secondary btn-sm mb-2">함친 추가</a><br>
            <a href="#" class="btn btn-outline-dark btn-sm">프로필 편집</a>
        </div>

        <!-- 우측: 날씨 박스 -->
        <div class="col-md-8">
            <h5>오늘의 날씨</h5>
            <div class="border p-3 bg-white" style="height: 100px;">
                날씨 정보 출력 예정
            </div>
        </div>
    </div>

    <!-- 아래: 커뮤니티 리스트 -->
    <div class="d-flex justify-content-between align-items-center bg-light p-3 mt-4">
        <h5 class="mb-0">{{ me }}의 커뮤니티 리스트</h5>
        <a href="{% url 'mypage:createcommunity' request.user.username %}" class="btn btn-warning btn-sm">커뮤니티 생성하기</a>
    </div>

    <div class="mt-3">
        {% for community in communities %}
            <div class="d-flex justify-content-between align-items-center p-3 mb-2 border rounded bg-light">
                <div>#</div>
                <a href="#" class="btn btn-outline-dark btn-sm">입장하기</a>
            </div>
        {% empty %}
            <p class="text-muted">참여 중인 커뮤니티가 없습니다.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}